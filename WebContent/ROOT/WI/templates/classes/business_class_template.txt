package <#layerName>;

import utilsLib.util.*;
import java.util.*;

public class <#bigEntityName>Business {
    private DB<#bigEntityName>Repository <#entityName>Repository;

    public <#bigEntityName>Business(DB<#bigEntityName>Repository <#entityName>Repository) {
        if (<#entityName>Repository == null) {
            throw new IllegalArgumentException("Param: " + <#entityName>Repository);
        }

        this.<#entityName>Repository = <#entityName>Repository;
    }

    public void add(<#bigEntityName> <#entityName>) {
        <#entityName>Repository.insert(<#entityName>);
    }

    public void update(<#bigEntityName> <#entityName>) {
        <#entityName>Repository.update(<#entityName>);
    }

    public void remove(int <#keyField>) {
        <#entityName>Repository.delete(<#keyField>);
    }

    public <#bigEntityName>[] get<#bigEntityName>s(<#bigEntityName>SearchParams params) {
        return <#entityName>Repository.get<#bigEntityName>s(params);
    }

    public <#bigEntityName> search(int <#keyField>) {
        <#bigEntityName>SearchParams params = new <#bigEntityName>SearchParams();
        params.addFilter(new FilterParam("<#keyField>", <#keyField>, FilterParam.COMPARE_TYPE.EQUAL));

        return (<#bigEntityName>)Utils.getArrayItem(this.get<#bigEntityName>s(params), 0, null);
    }
}